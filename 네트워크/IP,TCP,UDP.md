### IP

- 물리 계층 & 데이터 링크 계층의 한계를 극복하는 프로토콜
- IPv4와 IPv6가 있음
- 신뢰할 수 없는 비신뢰성 프로토콜 _(패킷이 순서대로, 중간에 에러가 없이 전송됨을 보장하지 못함)_
- 비연결형 프로토콜 _(연결이 되었는지 되지 않았는지 모름. 보내기만 함)_

#### IPv4

- 4바이트로 하나의 주소를 표현
- 숫자당 8비트로 표현 0~255 범위에 있는 네 개의 10진수로 표기
- 각 숫자는 점으로 구분

#### IPv6

- 16바이트로 하나의 주소를 표현
- 숫자당 2바이트로 표현 8개의 16진수로 표기
- 각 숫자는 콜론으로 구분

<br><br><br>

### ARP

- Adress Resolution Protocol
- IP주소를 통해 MAC주소를 알아낼 수 있는 프로토콜
- 브로드 캐스트 메시지를 보내서 해당 IP주소에 맞는 MAC주소를 반환받음
- LAN에서는 반드시 MAC주소로 통신 _(IP주소는 가변이고 MAC주소는 고정이기 때문)_

<br><br><br>

### 클래스풀 주소 체계

- 서브넷 마스크의 범위를 넘어선 호스트 주소가 모두 0인 IP주소 = 해당 네트워크 자체를 의미하는 네트워크 주소
- 호스트 주소가 모두 1인 IP 주소 = 브로드 캐스트 주소로 사용

<br><br><br>

### NAT (NAPT)

- 유한 개수인 IP 주소 문제를 해결하기 위해서 사설 IP 주소 개념 추가
- IP 주소 변환 기술인 Network Address Translation 기술을 이용해서 공인 <-> 사설 변환 과정을 거침
- 4계층의 포트 번호를 이용해서 IP주소를 매핑해줌

<br><br><br>

### TCP

- 연결형 통신을 하게 함 _(3 way handshake, 4 way handshake)_
- 신뢰성 통신을 하게 함 _(흐름 제어, 혼잡 제어, 오류 제어)_

#### 오류 제어

- 중복된 ACK 세그먼트를 수신했을 때, 타임아웃이 발생하였을 때 오류로 인지
- ARQ (Automatic Repeat Request)를 이용하여 오류가 발생했을 때 재전송을 함으로써 해결

##### Stop and Wait

- 하나씩 받고 하나씩 대답하는 기법
- 매우 신뢰적이지만 속도가 매우 느림

##### Go Back N ARQ

- 에러가 발생했을 경우 에러가 발생한 N번 비트부터 모두 다시 보내는 기법
- 수신측의 ACK는 "N번까지의 패킷은 괜찮아" 라는 누적 확인 응답으로 해석
- 수신측에서 기억하고 있을 필요가 없기 때문에 공간적으로 좋음

##### Selective Repeat ARQ

- 수신측에서 제대로 온 패킷을 기억하고 있다가, 잘못된 패킷만 재전송을 요구
- 시간이 빠름. stateful한 기법
- 오늘날의 대부분은 이 기법을 사용

#### 흐름 제어

- 슬라이딩 윈도우 기법을 사용
- 윈도우 크기만큼 확인받지 않더라도 한 번에 전송할 수 있음을 의미
- ACK를 받으면 그 만큼 송신 측의 윈도우를 n+1로 이동시킴

#### 혼잡 제어

- 혼잡 제어 알고리즘을 사용해서 송신측에서 알아서 조절해야 함
- 메시지를 전송하고 그에 대한 답변을 받는 시간 RTT를 이용해서 혼잡도를 계산

##### AIMD

- Additive Increase Multiplicative Decrease
- 합으로 증가, 곱으로 감소
- 혼잡하지 않다면 윈도우 크기를 1씩 선형으로 증가
- 혼잡하다면 윈도우 크기를 절반으로 감소시킴

##### Slow Start

- 1부터 시작, 지수배로 증가
- 혼잡하거나, 임계치 이상이 되거나, 세 번의 ack를 수신했을 때 세 가지 방법 중 하나를 선택
1. 타임아웃 발생 시, 1로 다시 Slow Start 재시작
2. 윈도우 크기가 임계치를 넘어갔을 시, 느린 시작 종료, 혼잡 회피 수행
3. 세번의 중복 ACK 수신 시, 빠른 회복 수행

- 빠른 재전송 : 3번의 ACK 수신 시, Timeout을 기다리지 않고 곧바로 재전송하는 방법
- 혼잡 회피 알고리즘 : 임계치를 넘어갔을 경우 1씩 선형으로 증가시키는 방법
- 빠른 회복 알고리즘 : 빠른 전송률 회복을 위해 느린 시작은 건너뛰고 혼자 회피를 수행

<br><br><br>

### UDP

- 신뢰할 수 없는 통신, 비연결형 통신
- 빠르게 전송해야하는 비디오 스트리밍과 같은 상황에서 사용하곤 함

### 쿠키

- 웹 서버와 클라이언트 브라우저간의 일부 상태를 유지하기 위해서 사용
- HTTP 메시지의 쿠키 헤더라인을 통해서 받고 보냄
- 서버는 클라이언트가 보낸 쿠키 헤더에 있는 값을 보고 서버 내의 세션을 확인하거나 jwt 토큰을 보낼 수 있음
- 장바구니 같은 보안이 덜 중요한 것들은 평문으로 보낼 수 있음.
- 중간에 쿠키를 탈취당하면 그 사용자인 척을 할 수 있기 때문에 중요한 정보를 쿠키로 주고받지 말아야 함.

<br><br><br>

### 세션

- 유저의 정보를 쿠키로 주고 받는 것이 아니라, 서버에 정보를 저장하고 유저는 해당 session ID만을 주고 받으면서 stateful하게 동작
- 서버에 DB를 추가적으로 사용해야하기 때문에 확장성에서 좋지않을 수 있음
- 세션도 마찬가지로 session ID를 탈취당하면 그 사용자인 척 할 수 있음
- 로그인할 때 마다 새로운 session ID를 발급받는 식으로 보안을 그나마 강화 가능

<br><br><br>

### 토큰

- 세션은 서버에 데이터를 저장하는 반면, 토큰은 정보를 base64로 인코딩한 뒤 서버의 서명값을 보내서 사용자를 인증
- 만약 탈취되어서 데이터가 변조가 되었다면 서명값을 이용해서 해당 데이터가 변조된 데이터인지 판단가능
- 하지만 탈취당했을 때 해당 사용자 인 척 하는 것을 막기는 힘듬
- 그렇기 때문에 토큰의 TTL을 짧게 만들어서 탈취된 토큰의 유효시간을 짧게 만드는 방식으로 보안을 강화함
- 그리고 매번 발급받을 때 마다 또 탈취 위험이 있기 때문에 Refresh Token을 이용해서 Access Token을 발급받을 수 있도록 함
- Refresh Token을 탈취당하면 위험할 수 있기 때문에 로그인할 때 마다 Refresh Token을 재발급받는 방식을 사용함